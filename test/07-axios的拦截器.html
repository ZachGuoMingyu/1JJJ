<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script src="https://cdn.bootcdn.net/ajax/libs/axios/0.20.0/axios.min.js"></script>
  <script>
    // axios拦截器
    // axios请求方向拦截器
    axios.interceptors.request.use(config => {
      console.log('进入请求拦截器')
      console.log('----',config)
      alert('正在登录中，请稍候...')
      return config //记得return，放行请求
    },err => {
      console.log('请求方向失败')
      console.log(err)
    })

    axios.interceptors.response.use(config => {
      //可以在响应拦截器里做什么呢？
      //可以拿到请求响应的状态码 根据状态码去做一些判断
      console.log('状态码', config.data.status);
      console.log('进入响应拦截器')
      return config.data //只会返回data
    },err => {
      console.log('响应方向失败')
      console.log(err)
    })

    axios.get('http://47.106.244.1:8099/manager/category/findAllCategory')
    .then(res => {
      console.log(res)
    })

    // 响应方向拦截器
  </script>
</body>
</html>